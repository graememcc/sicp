<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>SICP Collections</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">SICP Collections</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Installation%29" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Introduction_to_the__lang_sicp_language%29" class="tocviewlink" data-pltdoc="x">Introduction to the <span class="stt">#lang sicp</span> language</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Introduction_to_the_.S.I.C.P_.Picture_.Language%29" class="tocviewlink" data-pltdoc="x">Introduction to the SICP Picture Language</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Reference%29" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._.Example%29" class="tocviewlink" data-pltdoc="x">Example</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="#%28part._.Vectors%29" class="tocviewlink" data-pltdoc="x">Vectors</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="#%28part._.Frames%29" class="tocviewlink" data-pltdoc="x">Frames</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="#%28part._.Segments%29" class="tocviewlink" data-pltdoc="x">Segments</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="#%28part._.Primitive_.Painters%29" class="tocviewlink" data-pltdoc="x">Primitive Painters</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="#%28part._.Higher_.Order_.Painters%29" class="tocviewlink" data-pltdoc="x">Higher Order Painters</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="#%28part._.Simple_.Builtin_.Painters%29" class="tocviewlink" data-pltdoc="x">Simple Builtin Painters</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="#%28part._.Painting%29" class="tocviewlink" data-pltdoc="x">Painting</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="#%28part._.Authors%29" class="tocviewlink" data-pltdoc="x">Authors</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="#%28part._.Other%29" class="tocviewlink" data-pltdoc="x">Other</a></td></tr><tr><td align="right"></td><td><a href="#%28part._doc-index%29" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.S.I.C.P_.Collections%29" class="tocsubseclink" data-pltdoc="x">SICP Collections</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Installation%29" class="tocsubseclink" data-pltdoc="x">Installation</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Introduction_to_the__lang_sicp_language%29" class="tocsubseclink" data-pltdoc="x">Introduction to the <span class="stt">#lang sicp</span> language</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Introduction_to_the_.S.I.C.P_.Picture_.Language%29" class="tocsubseclink" data-pltdoc="x">Introduction to the SICP Picture Language</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Reference%29" class="tocsubseclink" data-pltdoc="x">Reference</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._.Example%29" class="tocsubseclink" data-pltdoc="x">Example</a></td></tr><tr><td><span class="tocsublinknumber">7<tt>&nbsp;</tt></span><a href="#%28part._.Vectors%29" class="tocsubseclink" data-pltdoc="x">Vectors</a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-vect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>vect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-xcor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>xcor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-ycor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>ycor</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-add%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>add</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-sub%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>sub</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-scale%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-<wbr></wbr>scale</span></span></a></td></tr><tr><td><span class="tocsublinknumber">8<tt>&nbsp;</tt></span><a href="#%28part._.Frames%29" class="tocsubseclink" data-pltdoc="x">Frames</a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-frame%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>frame</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-origin%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-<wbr></wbr>origin</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-edge1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-<wbr></wbr>edge1</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-edge2%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-<wbr></wbr>edge2</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-relative-frame%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>relative-<wbr></wbr>frame</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-coord-map%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-<wbr></wbr>coord-<wbr></wbr>map</span></span></a></td></tr><tr><td><span class="tocsublinknumber">9<tt>&nbsp;</tt></span><a href="#%28part._.Segments%29" class="tocsubseclink" data-pltdoc="x">Segments</a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-segment%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>segment</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segment-start%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">segment-<wbr></wbr>start</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segment-end%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">segment-<wbr></wbr>end</span></span></a></td></tr><tr><td><span class="tocsublinknumber">10<tt>&nbsp;</tt></span><a href="#%28part._.Primitive_.Painters%29" class="tocsubseclink" data-pltdoc="x">Primitive Painters</a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._number-~3epainter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number-<wbr></wbr>&gt;painter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segments-~3epainter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">segments-<wbr></wbr>&gt;painter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._procedure-~3epainter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">procedure-<wbr></wbr>&gt;painter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._picture-~3epainter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">picture-<wbr></wbr>&gt;painter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._load-painter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">load-<wbr></wbr>painter</span></span></a></td></tr><tr><td><span class="tocsublinknumber">11<tt>&nbsp;</tt></span><a href="#%28part._.Higher_.Order_.Painters%29" class="tocsubseclink" data-pltdoc="x">Higher Order Painters</a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._transform-painter%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transform-<wbr></wbr>painter</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._flip-horiz%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">flip-<wbr></wbr>horiz</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._flip-vert%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">flip-<wbr></wbr>vert</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate90%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rotate90</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate180%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rotate180</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate270%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rotate270</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._beside%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">beside</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._below%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">below</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._superpose%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">superpose</span></span></a></td></tr><tr><td><span class="tocsublinknumber">12<tt>&nbsp;</tt></span><a href="#%28part._.Simple_.Builtin_.Painters%29" class="tocsubseclink" data-pltdoc="x">Simple Builtin Painters</a></td></tr><tr><td><span class="tocsublinknumber">13<tt>&nbsp;</tt></span><a href="#%28part._.Painting%29" class="tocsubseclink" data-pltdoc="x">Painting</a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">paint</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint-hi-res%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">paint-<wbr></wbr>hi-<wbr></wbr>res</span></span></a></td></tr><tr><td><span class="tocsublinknumber">14<tt>&nbsp;</tt></span><a href="#%28part._.Authors%29" class="tocsubseclink" data-pltdoc="x">Authors</a></td></tr><tr><td><span class="tocsublinknumber">15<tt>&nbsp;</tt></span><a href="#%28part._.Other%29" class="tocsubseclink" data-pltdoc="x">Other</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._doc-index%29" class="tocsubseclink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.S.I.C.P_.Collections)"></a><a name="(mod-path._sicp)"></a><a name="(mod-path._sicp-pict)"></a>SICP Collections</h2><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">sicp</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">sicp</span></span></td></tr></table></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">sicp-pict</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <span class="stt">sicp</span></span></td></tr></table></div><div class="SIntrapara"><a name="(idx._(gentag._0))"></a>
<a name="(idx._(gentag._1))"></a>
<a name="(idx._(gentag._2))"></a>
<a name="(idx._(gentag._3))"></a>
<a name="(idx._(gentag._4))"></a>
<a name="(idx._(gentag._5))"></a></div></p><h3>1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>This package contains two collections.</p><p>The <span class="RktSym">sicp</span> collection contains a <span class="stt">#lang sicp</span> language ideal
for studying the book "Structure and Interpretation of Computer Programs"
by Gerald Jay Sussman and Hal Abelson. The book is usually referred
to simply as SICP.</p><p>The second <span class="RktSym">sicp-pict</span> collection contains the picture language used in SICP.
The non-standard primitives <span class="RktSym"><span class="badlink"><span class="RktValLink">cons-stream</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">amb</span></span></span> are
also provided.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Installation)"></a>Installation</h3><p>Use DrRacket to install the sicp package like this:</p><ol><li><p>Open the Package Manager:
in DrRacket choose the menu "File" then choose "Package Manager...".</p></li><li><p>In the tab "Do What I Mean" find the text field and enter:  <span class="RktVal">"sicp"</span></p></li><li><p>Finally click the "Install" button.</p></li><li><p>Test it. Make sure DrRacket has "Determine language from source" in the bottom left corner.
      Write the following program and click run:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">#lang sicp</span></p></td></tr><tr><td><p><span class="stt">(inc 42)</span></p></td></tr></table></p><p>The expected output is <span class="RktVal">43</span>.</p></li></ol><h3>3<tt>&nbsp;</tt><a name="(part._.Introduction_to_the__lang_sicp_language)"></a>Introduction to the <span class="stt">#lang sicp</span> language</h3><p>The programs in the book are written in (a subset of) the programming language Scheme.
As the years have passed the programming language Scheme has evolved.
The language <span class="stt">#lang sicp</span> provides you with a version of R5RS (the fifth revision of Scheme)
changed slightly in order for programs in SICP to run as is.</p><p>The changes are as follows:</p><p>The identifers <span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span>, <span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._false%29%29" class="RktValLink" data-pltdoc="x">false</a></span>, and, <span class="RktSym">nil</span> are provided
with values <span class="RktVal">#t</span>, <span class="RktVal">#f</span>, and, <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span> respectively.</p><p><div class="SIntrapara">The following functions of one variable are provided:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">(define (identity x) x)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">the identity function</span></p></td></tr><tr><td><p><span class="stt">(define (inc x) (+ x 1))</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">increment</span></p></td></tr><tr><td><p><span class="stt">(define (dec x) (- x 1))</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">decrement</span></p></td></tr></table></div></p><p>There are no streams in R5RS, so the sicp language provides the
primitives <span class="RktSym"><span class="badlink"><span class="RktValLink">cons-stream</span></span></span> and <span class="RktSym">stream-null?</span> that
respectively constructs a stream and tests whether a stream is the null stream.
The null-stream is provided as <span class="RktSym">the-empty-stream</span>.</p><p>Finally the function <span class="RktSym">runtime</span> is provided. It gives you the current
time measured as the number of seconds passed since a fixed beginning.</p><p>To use the <span class="stt">sicp</span> language simply use <span class="stt">#lang sicp</span> as the
first line of your program. If you need to use Racket libraries,
then use <span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28quote._~23~25kernel%29._~23~25require%29%29" class="RktStxLink" data-pltdoc="x">#%require</a></span> (Note: R5RS has no <span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span> so
in order not to break any programs using the name <span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span> to
other things, the name <span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28quote._~23~25kernel%29._~23~25require%29%29" class="RktStxLink" data-pltdoc="x">#%require</a></span> is used instead.</p><h3>4<tt>&nbsp;</tt><a name="(part._.Introduction_to_the_.S.I.C.P_.Picture_.Language)"></a>Introduction to the SICP Picture Language</h3><p>The SICP Picture Language is a small language for drawing pictures.
It shows the power of data abstraction and closure. The picture language
stems from Peter Henderson&rsquo;s 1982 paper "Functional Geometry" and was
included by Hal Abelson in "Structure and Interpretation of Computer
Programs".</p><p>Before using this package, read
<a href="http://mitpress.mit.edu/sicp/full-text/book/book-Z-H-15.html#%_sec_2.2.4">section 2.2.4 of SICP</a>,
which is an excellent introduction to the ideas of the picture language.
This manual is meant as a reference guide.</p><p>Peter Henderson has written an updated version of
<a href="http://eprints.ecs.soton.ac.uk/7577/01/funcgeo2.pdf">"Functional Geometry"</a>,
which explains how to construct the Escher fish image.</p><p>Note: The primitives <span class="RktSym"><span class="badlink"><span class="RktValLink">cons-stream</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">amb</span></span></span> needed
in other chapters of SICP are also provided.</p><h3>5<tt>&nbsp;</tt><a name="(part._.Reference)"></a>Reference</h3><p>The basic concept of the picture language is a <span style="font-style: italic">painter</span>. A painter draws
it&rsquo;s image (shifted and scaled) within a frame given by a parallelogram.
Painters can be combined to construct new painters.</p><h3>6<tt>&nbsp;</tt><a name="(part._.Example)"></a>Example</h3><p>Using <span class="RktSym">sicp-pict</span> from a <span class="RktVal">"#lang sicp"</span> program:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">#lang sicp</span></p></td></tr><tr><td><p><span class="stt">(#%require sicp-pict)</span></p></td></tr><tr><td><p><span class="stt">(paint einstein)</span></p></td></tr></table></p><p>Using <span class="RktSym">sicp-pict</span> from a <span class="RktVal">"#lang racket"</span> program:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">#lang racket</span></p></td></tr><tr><td><p><span class="stt">(require sicp-pict)</span></p></td></tr><tr><td><p><span class="stt">(paint einstein)</span></p></td></tr></table></p><p>From the REPL:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sicp-pict</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint%29%29" class="RktValLink" data-pltdoc="x">paint</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._number-~3epainter%29%29" class="RktValLink" data-pltdoc="x">number-&gt;painter</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint%29%29" class="RktValLink" data-pltdoc="x">paint</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">diagonal-shading</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">paint-hires</span></span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._below%29%29" class="RktValLink" data-pltdoc="x">below</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._beside%29%29" class="RktValLink" data-pltdoc="x">beside</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">diagonal-shading</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate90%29%29" class="RktValLink" data-pltdoc="x">rotate90</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">diagonal-shading</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._beside%29%29" class="RktValLink" data-pltdoc="x">beside</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate270%29%29" class="RktValLink" data-pltdoc="x">rotate270</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">diagonal-shading</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate180%29%29" class="RktValLink" data-pltdoc="x">rotate180</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">diagonal-shading</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint%29%29" class="RktValLink" data-pltdoc="x">paint</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">einstein</span></span></span><span class="RktPn">)</span></td></tr></table></blockquote><h3>7<tt>&nbsp;</tt><a name="(part._.Vectors)"></a>Vectors</h3><p>A mathematical vector is called a <span style="font-style: italic">vect</span> here, in order
to avoid confusion with the builtin vectors of Scheme.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._make-vect))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-vect%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-vect</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">y</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a vect with the given coordinates.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._vector-xcor))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-xcor%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-xcor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the x-coordinate.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._vector-ycor))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-ycor%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-ycor</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the y-coordinate.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._vector-add))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-add%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-add</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktVar">w</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">w</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">Adds the two vects by adding their coordinates pairwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._vector-sub))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-sub%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-sub</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktVar">w</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">w</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">Subtracts the two vects by subtracting their coordinates pairwise.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._vector-scale))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-scale%29%29" class="RktValDef RktValLink" data-pltdoc="x">vector-scale</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">Scales the vect by multiplying each coordinate of <span class="RktVal">"v"</span> with
the number <span class="RktVal">"s"</span>.</div></p><h3>8<tt>&nbsp;</tt><a name="(part._.Frames)"></a>Frames</h3><p><div class="SIntrapara">A <span style="font-style: italic">frame</span> is descibed by three vectors.
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">^</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| frame edge2 vector</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">|</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">_|__________&gt;</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">/|</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">frame edge1 vector</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">/</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">/</span></p></td></tr><tr><td><p><span class="stt">/ frame origin pointer</span></p></td></tr></table></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._make-frame))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-frame%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-frame</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">origin</span><span class="hspace">&nbsp;</span><span class="RktVar">edge1</span><span class="hspace">&nbsp;</span><span class="RktVar">edge2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">frame?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">origin</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">edge1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">edge2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a frame from a frame origin vector and two frame edge vectors.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._frame-origin))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-origin%29%29" class="RktValDef RktValLink" data-pltdoc="x">frame-origin</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">frame?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._frame-edge1))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-edge1%29%29" class="RktValDef RktValLink" data-pltdoc="x">frame-edge1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">frame?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._frame-edge2))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-edge2%29%29" class="RktValDef RktValLink" data-pltdoc="x">frame-edge2</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">frame?</span></td></tr></table></blockquote></div><div class="SIntrapara">Extracts the origin, first edge or second edge from a frame.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._make-relative-frame))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-relative-frame%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-relative-frame</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">origin</span><span class="hspace">&nbsp;</span><span class="RktVar">corner1</span><span class="hspace">&nbsp;</span><span class="RktVar">corner2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">frame?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">frame?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">origin</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">corner1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">corner2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">The function <span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-relative-frame%29%29" class="RktValLink" data-pltdoc="x">make-relative-frame</a></span> provides a convenient way to
transform frames.  Given a frame and three points : <span class="RktVar">origin</span>,
<span class="RktVar">corner1</span>, and <span class="RktVar">corner2</span> (expressed in frame coordinates),
it returns a new frame with those corners.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._frame-coord-map))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-coord-map%29%29" class="RktValDef RktValLink" data-pltdoc="x">frame-coord-map</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vect?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">vect?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">frame?</span></td></tr></table></blockquote></div><div class="SIntrapara">Each frame determines a system of "frame coordinates" (x,y) where
(0,0) is the origin of the frame, x represents the displacement
along the first edge (as a fraction of the length of the edge) and
y is the displacement along the second edge.</div></p><p>The frame coordinate map is returned by frame-coord-map. E.g.
these expression return the same value:</p><p><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-coord-map%29%29" class="RktValLink" data-pltdoc="x">frame-coord-map</a></span><span class="stt"> </span><span class="RktSym">a-frame</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-vect%29%29" class="RktValLink" data-pltdoc="x">make-vect</a></span><span class="stt"> </span><span class="RktVal">0</span><span class="stt"> </span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></p><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-origin%29%29" class="RktValLink" data-pltdoc="x">frame-origin</a></span><span class="stt"> </span><span class="RktSym">a-frame</span><span class="RktPn">)</span></p><h3>9<tt>&nbsp;</tt><a name="(part._.Segments)"></a>Segments</h3><p>A pair of vectors determines a directed line segment - the segment
running from the endpoint of the first vector to the endpoint of the
second vector.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._make-segment))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-segment%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-segment</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">from</span><span class="hspace">&nbsp;</span><span class="RktVar">to</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">segment?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">from</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">to</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._segment-start))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segment-start%29%29" class="RktValDef RktValLink" data-pltdoc="x">segment-start</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">segment?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._segment-end))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segment-end%29%29" class="RktValDef RktValLink" data-pltdoc="x">segment-end</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">segment?</span></td></tr></table></blockquote></div></p><h3>10<tt>&nbsp;</tt><a name="(part._.Primitive_.Painters)"></a>Primitive Painters</h3><p>Painters take a frame and draw an image, transformed to fit inside the frame.</p><p><div class="SIntrapara">There are four ways to create painters:
</div><div class="SIntrapara"><ul><li><p>from a constant: <span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._number-~3epainter%29%29" class="RktValLink" data-pltdoc="x">number-&gt;painter</a></span></p></li><li><p>from a list of line segments:  <span class="RktSym">segment-&gt;painter</span></p></li><li><p>form a procedure:              <span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._procedure-~3epainter%29%29" class="RktValLink" data-pltdoc="x">procedure-&gt;painter</a></span></p></li><li><p>from a picture:                <span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._picture-~3epainter%29%29" class="RktValLink" data-pltdoc="x">picture-&gt;painter</a></span></p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._number-~3epainter))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._number-~3epainter%29%29" class="RktValDef RktValLink" data-pltdoc="x">number-&gt;painter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">color</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">color</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">0..255</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a painter that fills the frame with a gray color indicated
by the number. 0 is black and 255 is white.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._segments-~3epainter))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segments-~3epainter%29%29" class="RktValDef RktValLink" data-pltdoc="x">segments-&gt;painter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">los</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">los</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">list-of-segment?</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a painter that draws a stick figure given by the
segments (wrt the unit square).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._procedure-~3epainter))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._procedure-~3epainter%29%29" class="RktValDef RktValLink" data-pltdoc="x">procedure-&gt;painter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates painters from procedures.  We assume that the procedure
f is defined on the unit square.</div></p><p>Then to plot a point p in the target frame, we find the inverse image
T^-1(p) of p under the transformation that maps the unit square to the
target, and find the value of f at T-1(p).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._picture-~3epainter))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._picture-~3epainter%29%29" class="RktValDef RktValLink" data-pltdoc="x">picture-&gt;painter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">picture</span></td></tr></table></blockquote></div><div class="SIntrapara">The picture p is defined on some frame.</div></p><p>Given a point p in the target frame, we compute T^-1(p) where T
is the transformation that takes the picture frame to the
target frame, and find the picture value at the closest
integer point.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._load-painter))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._load-painter%29%29" class="RktValDef RktValLink" data-pltdoc="x">load-painter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">filename</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/Manipulating_Paths.html#%28def._%28%28quote._~23~25kernel%29._path~3f%29%29" class="RktValLink" data-pltdoc="x">path?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Uses the image file given by filename to create a painter.</div></p><h3>11<tt>&nbsp;</tt><a name="(part._.Higher_.Order_.Painters)"></a>Higher Order Painters</h3><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._transform-painter))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._transform-painter%29%29" class="RktValDef RktValLink" data-pltdoc="x">transform-painter</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">origin</span><span class="hspace">&nbsp;</span><span class="RktVar">corner1</span><span class="hspace">&nbsp;</span><span class="RktVar">corner2</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">painter?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///Users/soegaard/Dropbox/GitHub/racket/racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">painter?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">origin</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">corner1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">corner2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">vect?</span></td></tr></table></blockquote></div><div class="SIntrapara">A painter can be transformed to produce a new painter which, when
given a frame, calls the original painter on the transformed frame.</div></p><p>Transform-painter will given an origin and two corners, return
a function that takes a painter as argument and returns
a transformed painter.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._flip-horiz))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._flip-horiz%29%29" class="RktValDef RktValLink" data-pltdoc="x">flip-horiz</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a painter that flips the image horizontally.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._flip-vert))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._flip-vert%29%29" class="RktValDef RktValLink" data-pltdoc="x">flip-vert</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a painter that flips the image vertically.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._rotate90))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate90%29%29" class="RktValDef RktValLink" data-pltdoc="x">rotate90</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._rotate180))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate180%29%29" class="RktValDef RktValLink" data-pltdoc="x">rotate180</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._rotate270))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate270%29%29" class="RktValDef RktValLink" data-pltdoc="x">rotate270</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a painter that rotates the image.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._beside))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._beside%29%29" class="RktValDef RktValLink" data-pltdoc="x">beside</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p1</span><span class="hspace">&nbsp;</span><span class="RktVar">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a painter that paints the images side-by-side.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._below))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._below%29%29" class="RktValDef RktValLink" data-pltdoc="x">below</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p1</span><span class="hspace">&nbsp;</span><span class="RktVar">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a painter that paints the second image
below the first.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._superpose))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._superpose%29%29" class="RktValDef RktValLink" data-pltdoc="x">superpose</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p1</span><span class="hspace">&nbsp;</span><span class="RktVar">p2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a painter that paints the two images
on top of each other.</div></p><h3>12<tt>&nbsp;</tt><a name="(part._.Simple_.Builtin_.Painters)"></a>Simple Builtin Painters</h3><p>The following painter values are buitin:</p><p><span class="RktSym"><span class="badlink"><span class="RktValLink">black</span></span></span>, <span class="RktSym"><span class="badlink"><span class="RktValLink">white</span></span></span> and <span class="RktSym"><span class="badlink"><span class="RktValLink">gray</span></span></span>
     Fills the frame with black (0), white (255) or gray (150).</p><p><span class="RktSym"><span class="badlink"><span class="RktValLink">diagonal-shading</span></span></span>
    Fills the frame with a shades of gray. The color transition
    goes from black in the upper left corner is black, to gray
    in the bottom right corner.</p><p><span class="RktSym"><span class="badlink"><span class="RktValLink">einstein</span></span></span>
    Draws an image of Einstein.</p><h3>13<tt>&nbsp;</tt><a name="(part._.Painting)"></a>Painting</h3><p>The procedures paint and paint-hi-res takes a painter as input
and return a snip containing the painter&rsquo;s image. A snip is
an image that DrScheme can display automatically.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._paint))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint%29%29" class="RktValDef RktValLink" data-pltdoc="x">paint</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">snip?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></td></tr></table></blockquote></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._sicp-pict/main..rkt)._paint-hi-res))"></a><span title="Provided from: sicp | Package: sicp"><span class="RktSym"><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint-hi-res%29%29" class="RktValDef RktValLink" data-pltdoc="x">paint-hi-res</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">snip?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">painter?</span></td></tr></table></blockquote></div></p><h3>14<tt>&nbsp;</tt><a name="(part._.Authors)"></a>Authors</h3><p>Abelson &amp; Sussman:
<a href="http://mitpress.mit.edu/sicp/full-text/book/book-Z-H-15.html#%_sec_2.2.4">Structure and Interpretation of Computer Programs</a>.</p><p>Daniel Coore: Original MIT Scheme code.</p><p>Mike Sperber: PLT port.</p><p>Jens Axel S&#248;gaard: Documentation.</p><p>Javier Olaechea: Fixed amb.</p><p>Neil Van Dyke: The SICP language. Maintained the sicp package for years.</p><h3>15<tt>&nbsp;</tt><a name="(part._.Other)"></a>Other</h3><p>See also the
<a href="http://mitpress.mit.edu/sicp/psets/ps4hnd/readme.html">readme.html</a>
from the SICP web-site for more documentation and exercises.</p><p>Peter Henderson&rsquo;s
<a href="http://eprints.ecs.soton.ac.uk/7577/01/funcgeo2.pdf">"Functional Geometry"</a>.</p><h3><a name="(part._doc-index)"></a>Index</h3><table cellspacing="0" cellpadding="0"><tr><td><p><a href="#alpha:A">A</a> <a href="#alpha:B">B</a> <span class="nonavigation">C</span> <span class="nonavigation">D</span> <a href="#alpha:E">E</a> <a href="#alpha:F">F</a> <a href="#alpha:G">G</a> <a href="#alpha:H">H</a> <a href="#alpha:I">I</a> <span class="nonavigation">J</span> <span class="nonavigation">K</span> <a href="#alpha:L">L</a> <a href="#alpha:M">M</a> <a href="#alpha:N">N</a> <a href="#alpha:O">O</a> <a href="#alpha:P">P</a> <span class="nonavigation">Q</span> <a href="#alpha:R">R</a> <a href="#alpha:S">S</a> <a href="#alpha:T">T</a> <span class="nonavigation">U</span> <a href="#alpha:V">V</a> <span class="nonavigation">W</span> <span class="nonavigation">X</span> <span class="nonavigation">Y</span> <span class="nonavigation">Z</span> </p></td></tr><tr><td><p>&nbsp;</p></td></tr><tr><td><p><a name="alpha:A"></a><span><a href="#%28part._.Authors%29" class="indexlink" data-pltdoc="x">Authors<br/></a></span><a name="alpha:B"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._below%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">below</span></span><br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._beside%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">beside</span></span><br/></a><a name="alpha:E"></a><span><a href="#%28idx._%28gentag._5%29%29" class="indexlink" data-pltdoc="x">Escher<br/></a></span><a href="#%28part._.Example%29" class="indexlink" data-pltdoc="x">Example<br/></a><a name="alpha:F"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._flip-horiz%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">flip-horiz</span></span><br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._flip-vert%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">flip-vert</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-coord-map%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-coord-map</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-edge1%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-edge1</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-edge2%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-edge2</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._frame-origin%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">frame-origin</span></span><br/></a><a href="#%28part._.Frames%29" class="indexlink" data-pltdoc="x">Frames<br/></a><a name="alpha:G"></a><span><a href="#%28idx._%28gentag._3%29%29" class="indexlink" data-pltdoc="x">geometry<br/></a></span><a name="alpha:H"></a><span><a href="#%28part._.Higher_.Order_.Painters%29" class="indexlink" data-pltdoc="x">Higher Order Painters<br/></a></span><a name="alpha:I"></a><span><a href="#%28part._.Installation%29" class="indexlink" data-pltdoc="x">Installation<br/></a></span><a href="#%28part._.Introduction%29" class="indexlink" data-pltdoc="x">Introduction<br/></a><a href="#%28part._.Introduction_to_the__lang_sicp_language%29" class="indexlink" data-pltdoc="x">Introduction to the <span class="stt">#lang sicp</span> language<br/></a><a href="#%28part._.Introduction_to_the_.S.I.C.P_.Picture_.Language%29" class="indexlink" data-pltdoc="x">Introduction to the SICP Picture Language<br/></a><a name="alpha:L"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._load-painter%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">load-painter</span></span><br/></a></span><a name="alpha:M"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-frame%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-frame</span></span><br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-relative-frame%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-relative-frame</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-segment%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-segment</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._make-vect%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-vect</span></span><br/></a><a name="alpha:N"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._number-~3epainter%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">number-&gt;painter</span></span><br/></a></span><a name="alpha:O"></a><span><a href="#%28part._.Other%29" class="indexlink" data-pltdoc="x">Other<br/></a></span><a name="alpha:P"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">paint</span></span><br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._paint-hi-res%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">paint-hi-res</span></span><br/></a><a href="#%28idx._%28gentag._2%29%29" class="indexlink" data-pltdoc="x">painter<br/></a><a href="#%28part._.Painting%29" class="indexlink" data-pltdoc="x">Painting<br/></a><a href="#%28idx._%28gentag._4%29%29" class="indexlink" data-pltdoc="x">picture<br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._picture-~3epainter%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">picture-&gt;painter</span></span><br/></a><a href="#%28part._.Primitive_.Painters%29" class="indexlink" data-pltdoc="x">Primitive Painters<br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._procedure-~3epainter%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">procedure-&gt;painter</span></span><br/></a><a name="alpha:R"></a><span><a href="#%28part._.Reference%29" class="indexlink" data-pltdoc="x">Reference<br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate180%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rotate180</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate270%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rotate270</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._rotate90%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">rotate90</span></span><br/></a><a name="alpha:S"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segment-end%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">segment-end</span></span><br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segment-start%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">segment-start</span></span><br/></a><a href="#%28part._.Segments%29" class="indexlink" data-pltdoc="x">Segments<br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._segments-~3epainter%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">segments-&gt;painter</span></span><br/></a><a href="" class="indexlink" data-pltdoc="x"><span class="RktModLink"><span class="RktSym">sicp</span></span><br/></a><a href="#%28idx._%28gentag._0%29%29" class="indexlink" data-pltdoc="x">SICP<br/></a><a href="#%28idx._%28gentag._1%29%29" class="indexlink" data-pltdoc="x">sicp<br/></a><a href="" class="indexlink" data-pltdoc="x">SICP Collections<br/></a><a href="" class="indexlink" data-pltdoc="x"><span class="RktModLink"><span class="RktSym">sicp-pict</span></span><br/></a><a href="#%28part._.Simple_.Builtin_.Painters%29" class="indexlink" data-pltdoc="x">Simple Builtin Painters<br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._superpose%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">superpose</span></span><br/></a><a name="alpha:T"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._transform-painter%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">transform-painter</span></span><br/></a></span><a name="alpha:V"></a><span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-add%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-add</span></span><br/></a></span><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-scale%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-scale</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-sub%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-sub</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-xcor%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-xcor</span></span><br/></a><a href="#%28def._%28%28lib._sicp-pict%2Fmain..rkt%29._vector-ycor%29%29" class="indexlink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">vector-ycor</span></span><br/></a><a href="#%28part._.Vectors%29" class="indexlink" data-pltdoc="x">Vectors<br/></a></p></td></tr></table></div></div><div id="contextindicator">&nbsp;</div></body></html>